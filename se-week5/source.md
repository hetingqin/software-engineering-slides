# 软件工程及体系结构 · 第 5 周

## 需求工程：破解“客户到底想要什么”的魔咒

> 计算机相关专业本科/硕士 | 3 学时

---

## 第一讲：需求分析——撕开伪需求的包装

### 1. 软件工程界著名的“秋千灾难”
客户想要一个什么秋千？各个环节理解的完全不一样！
- 客户想要：能给三个孩子玩的秋千。
- 产品/销售以为：一块板子两根绳子。
- 架构师以为：得把树截断才能挂秋千。
- 程序员以为：绳子绑着板子就能交差。
- **最终真相：** 只需要在绳子上挂一个旧破轮胎就行了！

![秋千需求图](../../assets/2a196741845cc6533716f7ff66fa3c70.jpg)

### 2. 用户需求 ≠ 产品需求
> 福特汽车名言：“如果我最初问消费者他们想要什么，他们会说——我们需要一辆更快的马车！”

“要一辆更快的马车”是**表层用户需求**。如果你真给马打激素换快马，你就陷入了死局。
真正的**深层需求**是“更快的出行”。
最终的**产品方案（产品需求）**是——造一辆内燃机汽车！

### 3. 给需求打个分：KANO 模型 
不仅要筛选需求，还要对需求划分层级，切忌眉毛胡子一把抓：
- **基本型需求（红线）：** 必须要有，没有就挨骂（如：视频播放器的画面显示）。
- **期望型需求（绿线）：** 用户说出来的要求，越多越好（如：1.5倍速、带字幕）。
- **兴奋型需求（黄线）：** 隐藏的超预期大招。用户没想过，一旦做出就会疯狂尖叫（如：播放器一键记笔记锚点功能）。

![KANO模型图](../../assets/71cb6e674f8b633be802a02c2e616d7f.jpg)

---

## 第二讲：原型设计——用最小代价试错

为了防止程序员写了两个月代码后客户说“这不是我要的”，引入**快速原型**。

### 1. 原型的三大段位
- **低保真（线框图）：** 纸壳子水平。几根线条画个框，几分钟搞定。用于快速勾勒板块位置。
- **中保真（Axure/墨刀）：** 灰白级模型。可以点击乱跳，能真实体验表单录入和页面跳转，确认逻辑（项目中最赚钱的一环）。
- **高保真（Figma/ProtoPie）：** 无限逼近成品效果图。带有精雕细琢的动画过渡、阴影和真实材质，连 UI 都不用出了。

![低保真原型图](../../assets/6a121d4c74a1daffdf8d39833ef24bde.png)

### 2. 程序员该怎么懂“轴”
制作原型并非胡乱拼凑，要讲究工程方法：
1. **分析：** 提炼要解决的核心场景。
2. **定结构与动线：** 先画一张全局【信息结构树】，再画界面流转【状态机】（跳转图）。
3. **实施：** 把图纸画满。
4. **残酷验收：** 原型画好后，马上找人点几下抓 Bug 抓反人类设计（代价只需几分钟）。

---

## 第三讲：给程序员植入“产品意识”

“那个破需求技术上实现极其复杂，没必要做！” ——这是典型的底层技术人员怨言。

### 1. 为什么 35 岁程序员容易被淘汰？
你的价值 = **技术产出 × 商业稀缺性**
只会写 CRUD 的敲钟人很容易被替换。而如果你懂业务、懂产品交互，你能帮团队少走弯路节约 30% 返工时长，这就是无法被替代的高薪资本！

### 2. 三大进阶维度
- **商业意识：** 这个功能能帮公司赚钱吗？花两周做的一个无人访问的炫酷日历插件，就是商业犯罪（浪费成本）。
- **用户意识：** 接口不仅是给机器用的，还是给其他协作者用的。这东西“好不好用”比“能不能用”更重要。
- **数据意识：** 告别争吵，让数据说话（A/B Testing）。觉得哪个配色牛都没用，拿灰度发布跑一周数据收割结论。

---

## 第四讲：对决大魔王——应对需求变更

### 1. 为什么“建房子”不改需求，而“搞软件”天天改需求？
- **建筑是具象的**：图纸上一根柱子在那，就在那。
- **软件是抽象的**：产品经理说“要一个高端大气的按钮”，程序员写出来却是一个土鳖蓝。
- **建筑代价极其恐怖**：墙砸了重砌要十几万买砖雇人。
- **软件代价有迷惑性**：“改个颜色不就加一行代码的事吗？”殊不知这一改牵动整条流水线的单元测试、灰度重发、甚至数据库字段重构。

### 2. 迎战需求变更的三大杀招
**永远记住，变更不可阻挡，拥抱它并控制它！**
- **防反墙（提高变更成本）：** 拒绝 QQ 随口一说就接活！任何变更必须走正式提交申请，并进入排期估算，“想改需求？可以，周期延后两周，加算 3000 元排期测试费”。（这叫规范化拦流网）
- **画大饼（提升确定性）：** 这就是为什么上一讲你要拼命用“中保真可点击的原型软件”。把纸壳子塞给甲方，拿不到他画的押绝不动一行底气代码。
- **修公路（降低响应成本）：** 不抱怨，反思构架。既然知道它日后肯定要频繁改“皮肤”，那当初架构直接设计成组件插拔式和后台面板傻瓜式配置！改色不要开发，客服去后台点两下就完成！

---

## 阶段作业与推演

📋 **修罗场：拒绝、妥协与谈判**

场景一：临近上线只有 3 周，大老板参加完高峰会兴奋地跑来对你们（开发与产品）说：“咱们现有的 APP 太干巴了，马上加个用 AI 根据语气匹配短语回复的小模块！”
**实战思考：** 
1. 作为产品经理，你该如何验证这是真需求还是伪需求？如果要做，KANO模型里该算哪一层？
2. 作为研发主程，如果强行要上，你应该用怎样的话术（不怼人）让老板知难而退，或者如何用技术架构变通实现个极简版？
