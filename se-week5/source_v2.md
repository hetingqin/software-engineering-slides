# 软件工程及体系结构 · 第 5 周

## 需求工程：破解"客户到底想要什么"的难题

> 电子信息工程专业硕士 | 3 学时
> 主讲人 | 何庭钦 | 271880026@qq.com

---

## 第一讲：需求分析——找到用户的真实诉求

### 1. 从"秋千灾难"看需求理解的鸿沟

在软件工程中，有一个广为流传的经典案例：客户想要一个给三个孩子玩的秋千，但从项目经理到产品经理、架构师、程序员，每个角色对这个需求的理解截然不同。项目经理理解为一块板加两根绳子，架构师认为需要截断树干才能安装，程序员则草草用绳子和板连在一起交差。而客户真正需要的，不过是在绳子上挂一个旧轮胎罢了。

![秋千需求图](../../assets/2a196741845cc6533716f7ff66fa3c70.jpg)

这个案例揭示了需求分析中最根本的痛点：需求是整个产品的源头，需求分析的结果往往决定了产品的成败。如果在源头就没有把握准确，后续的设计、开发、测试都将建立在错误的基础之上。很多软件项目的失败，以及开发中大量的返工和浪费，根源都出在需求没想清楚。

### 2. 用户需求与产品需求：两个完全不同的概念

日常项目中经常提到"需求"一词，但同一个词在不同语境下含义完全不同。项目经理对产品经理说"用户想要一个给三个孩子玩的秋千"，这是**用户需求**——用户直接表达的、期望满足自身需要的要求。产品经理对架构师说"在树上拴两绳子，吊一块板子"，这是**产品需求**——分析提炼后提出的解决方案。

用户需求通常不能直接转化为产品，原因在于用户提出的往往只是他能想到的解决方案，而非底层的真实诉求。福特汽车创始人亨利·福特的经典名言很好地说明了这一点："如果我最初问消费者他们想要什么，他们会告诉我——要一辆更快的马车！"在这个案例中，"更快的马车"只是表层的用户需求，用户的真实需求是"更快更舒适的出行方式"，而最终的产品需求则是革命性地制造一辆内燃机汽车。

### 3. 挖掘真实需求：表层、深层与底层

分析用户真实需求，可以从三个层次逐步深入：

- **表层需求**：用户自行提出的解决方案或期望。例如"我要一辆更快的马车"、"播放器要支持 2 倍速快进"。
- **深层需求**：用户产生该诉求的根本动机。例如"更快的马车"背后是"希望出行更快速"、"2 倍速快进"背后是"节约学习时间，提高效率"。
- **底层需求**：与人性本能相关的根本需求，如对安全感、舒适、成就感的追求。例如学生要求快进是为了"取得更好的学习成绩"。

要分析好这三个层次，关键是结合三个视角进行思考：**目标用户是谁？使用场景是什么？用户想要解决的根本问题是什么？** 大部分需求分析失败的原因，都在于停留在表层需求，没有追问"为什么"。

### 4. 需求分析的完整流程

对软件项目来说，需求从来不是单一的，而是一系列需求的集合。完整的需求分析需要经过五个环节，并且是一个**迭代进行**的过程，而非一次完成：

**第一步：收集需求。** 收集用户需求的主要方法包括：头脑风暴（团队讨论），用户调研（调查问卷、用户访谈），竞品分析（分析同类产品功能），快速原型（通过原型收集反馈）。不同方法适用于不同场景，例如在团队成员少、没有同类产品可参考时，用户调研是成本最低且最能获取真实反馈的方式。

**第二步：分析需求。** 这是最困难也是最体现产品经理水平的环节。需要结合目标用户和使用场景，按照表层、深层、底层三个层次逐步深入，挖掘藏在用户表达背后的真实诉求。

**第三步：需求评估。** 收集和分析完毕后，并非所有需求都值得做。评估的维度包括：技术可行性、人力和时间成本、商业风险与收益、需求的紧急性和重要性。确认可行后，还需评估优先级。

**第四步：需求设计。** 针对经过评估的需求提出具体的解决方案。最终的产品设计会落实到用户界面的交互上，可以借助草图、原型工具或界面设计工具来完成。在设计时，积极参考行业中成熟的产品是一个高效的做法。

**第五步：验证需求。** 设计完成后需要反复验证——设计评审、客户确认、用户测试等。现代互联网产品还广泛采用 A/B 测试：将新功能先给一小部分用户使用，通过数据分析决定是否全量上线。

![需求分析流程](../../assets/b4f5e9676ed215c1d80da73a15281776.jpg)

### 5. KANO 模型：给需求分层排优先级

在评估需求优先级时，简单的方案是用"紧急-重要四象限"，更精细的工具是 KANO 模型。KANO 模型将需求分为三个层级：

- **基本型需求（红线）**：用户认为理所当然必须具备的功能。缺失会导致极度不满，但做得再好也不会显著提升满意度。例如视频播放器必须能播放视频，这是底线。
- **期望型需求（绿线）**：用户明确提出的、有意识的要求。功能越完善，满意度越高。例如播放器支持倍速播放和字幕显示。
- **兴奋型需求（黄线）**：用户自己没有想到，一旦提供就会产生超出预期的惊喜。例如播放器支持在视频时间轴上添加学习笔记锚点——这个功能用户从未想过，但一旦体验到就会觉得非常好用。

![KANO 模型](../../assets/71cb6e674f8b633be802a02c2e616d7f.jpg)

KANO 模型的实际意义在于帮助团队在资源有限时做出正确的取舍：基本型需求必须保证，期望型需求按优先级排列，兴奋型需求作为差异化竞争的亮点。

---

## 第二讲：原型设计——用最小的代价试错

### 1. 原型设计的演变：从开发模型到设计工具

原型设计最早并非一种设计工具，而是一种软件开发模型。《人月神话》的作者弗雷德里克·布鲁克斯最早提出在需求获取时引入快速原型。其基本思路是分阶段确认：第一阶段用静态页面确认界面布局和内容，第二阶段加入模拟后台确认交互流程，第三阶段才进行正式开发。这种方式可以低成本地确认需求，但问题在于需要开发人员全程参与。

后来，专业的原型设计工具（如 Axure、墨刀）的出现让产品经理不依赖程序员就能做出可交互的产品原型，原型设计从开发模型逐步演变为需求确认和沟通的核心工具。

### 2. 原型的三个保真度层级

**低保真原型（线框图）**：用纸笔或简单工具在几分钟内勾勒出界面的基本布局。优点是极快、极低成本；缺点是不够真实，无法反映交互。

![低保真原型示例](../../assets/6a121d4c74a1daffdf8d39833ef24bde.png)

**中保真原型（交互原型）**：使用 Axure、墨刀等工具制作的灰度级原型。可以模拟页面跳转、表单填写、按钮点击等交互，让用户真实地体验产品的操作流程。中保真原型是项目中最关键的验证环节——在一行代码都没写的情况下，就能发现需求理解的偏差和交互设计的缺陷，是项目中"投入产出比最高"的一环。

**高保真原型（视觉原型）**：使用 Figma、ProtoPie、Framer 等工具制作，无限接近最终产品的视觉效果，包含精确的颜色、字体、动画、阴影等细节。移动端应用对高保真度的要求尤其强烈。但高保真原型的制作成本和变更成本都较高，建议先用低保真确认需求，再用高保真确认视觉和交互细节。

### 3. 原型设计的工程方法（四步法）

做原型设计可以借鉴工程方法，分为四个阶段：

**分析**：搞清楚用户的需求和原型设计的目标。例如，要为一个在线教育平台设计 iPad 版原型，需要先明确核心需求是什么——保留手机版的全部内容，但在交互和布局上充分利用大屏优势。

**设计**：从两个维度进行整体设计。第一个维度是**信息架构**——像给书写目录一样，梳理产品包含哪些功能模块，模块之间的层次关系如何。第二个维度是**使用流程**——用流程图画出用户在不同界面之间的跳转逻辑，不仅要考虑正常流程，也要考虑异常情况（如网络失败、输入错误）。

**实施**：按照设计的结构和流程，逐个制作界面原型，并将界面之间通过交互连接起来。在制作每个界面时，优先满足产品需求，然后考虑美观和易用性。

**验证**：原型完成后，先自己反复体验几遍，修正明显的问题；然后让同事或用户试用，收集反馈意见。在正式项目中，这一步通常以原型评审会议的形式进行。关键点在于：在原型阶段发现问题、修正设计，成本只需几分钟；而如果到了开发阶段才发现，成本可能是几天甚至几周。

---

## 第三讲：程序员的产品意识

### 1. 程序员的价值公式

很多程序员认为只要技术足够强就不用担心职业前景。但实际上，程序员的市场价值体现在两个维度：**所做产品创造的价值**和**自身在团队中的稀缺性**。产品越有价值，程序员的价值就越大——这也解释了为什么互联网大厂做核心产品的团队待遇更高。在同一团队中，那些不仅能写好代码、还能主动发现需求问题、提出更好方案的工程师，具有更高的不可替代性。

### 2. 产品意识的三个维度

产品意识是一种思维方式，包含三个具体维度：

**商业意识**：思考所做的功能是否创造商业价值。典型的反面案例是：程序员热衷于用复杂的新技术实现一个炫酷但无人使用的功能，这本质上是浪费资源。商业意识还包括成本意识——为了炫技采用高难度方案导致开发周期翻倍，或者为了省钱不买成熟组件反而投入更多人力自己造轮子，都是缺乏成本意识的表现。

**用户意识**：跳出"能用就行"的技术思维，关注"好不好用"。很多时候产品经理的需求细节没有定义清楚，技术人员如果仅按字面意思实现，做出来的产品往往体验很差。具备用户意识的程序员会主动提问："文字很长的情况下布局会怎样变化？""网络很慢时加载中应该显示什么？""数据为空时列表该如何呈现？" 这些问题看似简单，却能大幅提升产品质量。

技术思维关注"用什么技术、如何实现"，产品思维关注"用户体验、为什么需要这个功能"。以办公聊天软件 Slack 为例：技术思维会关注它用了什么前端框架、API 是否用了最新方案；产品思维会关注它如何让工作沟通变得高效好玩、开放 API 如何与其他办公软件无缝集成、付费模式设计得多么巧妙。两种思维并不矛盾，而是互补——程序员同时具备两种思维，才能在项目中创造更大的价值。

**数据意识**：用数据替代主观判断。例如关于配色方案的争论，与其靠个人审美决定，不如用 A/B 测试跑一周数据，让客观结果说话。程序员应当对编译警告数量、测试覆盖率、API 错误率、程序崩溃比例等数据保持敏感，而非选择性忽略。

### 3. 如何培养产品意识？

**解放思想**：不要只用技术眼光看产品，也从产品角度思考。

**改变习惯**：日常使用产品时多问自己——这个功能满足什么需求？体验好不好？有没有更好的方式？开发功能时把自己当成用户试用一遍。

**多实践**：业余时间做个小应用、设计一个原型，找朋友试用收集反馈。从日常生活中的真实需求出发，比如给家人做个实用工具、帮朋友解决一个具体问题。在做产品的过程中，你自然会开始站在产品角度思考。

---

## 第四讲：应对需求变更

### 1. 需求变更的根本原因

软件项目中需求变更频繁，核心原因有两个：

**需求的确定性不足**：建筑需求是具象的（一根柱子在哪就在哪），软件需求却是抽象的（"做个高端大气的界面"对不同人有不同理解）。正因为抽象和模糊，客户往往在看到产品雏形后才逐渐想清楚自己真正要什么。举个典型的例子：客户最初没有颜色偏好，看到白色背景后要求换蓝色；换蓝色后又觉得黄色更好看；产品经理怕客户再改，做了换肤功能——结果客户问能不能把背景换成图片。这样的循环在软件项目中极为常见。

**需求变更的成本感知过低**：装修房子时，客户清楚"重刷墙壁要买涂料、雇人"的成本。但在软件项目中，"改个背景色"在客户甚至产品经理看来只是"几行代码的事"。实际上，即使是简单的颜色修改，也涉及代码变更、测试回归、部署验证等一系列工作——如果一开始就设计了换色功能，那前期的开发成本同样会上升。

### 2. 三种应对策略

**策略一：提升需求确定性。** 通过专业的需求分析和原型验证，在开发前最大程度地明确需求。使用中保真可交互原型让客户在代码开写之前就确认产品形态，从而将变更提前到成本最低的阶段消化。

**策略二：提高变更成本。** 建立规范的需求变更流程。任何变更必须走正式的提交和评估，不能通过即时通讯工具随口一说就接活。对于外包项目，变更可以纳入新的附加合同，收取额外费用。这个策略的优势在于能立即见效，缺点在于过于繁琐的流程可能影响项目协作。

**策略三：降低响应成本。** 从架构层面进行预判和设计，让高频变更点变得容易修改。例如预知界面样式可能频繁调整时，在架构中设计换肤机制或后台可配置方案，使得样式变更只需在后台操作而无需修改代码。这要求较高的架构能力和项目管理水平。

### 3. 案例：分阶段灵活运用三种策略

一位软件工程专业毕业的创业者在建站公司的不同阶段，灵活运用了上述三种策略：

**创业初期**（人手极少）：优先采用策略二——规范变更流程。在合同中约定：需求变更统一提交给负责人甄别，决定是否做、何时做、是否产生额外费用。效果立竿见影，程序员不再被客户通过 QQ 随意打断。

**发展期**（雇佣了专业产品经理）：引入策略一——用 Axure 做可交互原型，在开发前与客户反复确认。原型修改成本极低，几分钟即可完成调整。客户在原型阶段就把需求想清楚了，进入开发阶段后变更大幅减少。

**成熟期**（技术积累充分）：实施策略三——分析两年来的建站项目，发现大部分企业网站的功能高度相似，差别主要在界面样式。于是开发了一套建站系统（类似 WordPress），支持换肤和插件扩展。客户的大部分变更需求只需后台配置即可满足。

---

## 课后研讨任务

📋 **需求分析实战演练**

场景：临近上线只剩 3 周，公司高管在参加行业峰会后突然提出："现有的 APP 太单调了，赶紧加一个基于 AI 的智能回复推荐模块！"

**任务一**：作为产品经理，运用本课学到的需求分析三步法（挖掘真实需求 → 提出方案 → 筛选验证），判断这个需求的目标用户是谁、使用场景是什么、要解决的根本问题是什么。按照 KANO 模型，它属于哪一层需求？说明你的分析思路。

**任务二**：作为技术负责人，运用应对需求变更的三种策略，设计两种应对方案——一种是专业地拒绝或延期的方案（策略二），一种是用最小技术成本变通实现的方案（策略三）。分析每种方案对工期、质量和团队士气的影响。
