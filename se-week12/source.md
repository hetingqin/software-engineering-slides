# 软件工程及体系结构 · 第 12 周

## 行业案例分析

> 计算机相关专业本科/硕士 | 3 学时

---

## 第一讲：失败案例分析

### 1. 为什么要学失败案例？

- 成功的经验各不相同，失败的原因总是相似
- "聪明人从别人的错误中学习"
- 失败案例是软件工程最好的反面教材

### 2. 经典失败案例

**Healthcare.gov（2013）**
- 美国医保网站，上线即崩溃
- 问题：多个承包商缺乏协调、测试严重不足、上线前未做压力测试
- 教训：大型项目需要统一技术管理、充分的集成测试

**Knight Capital（2012）**
- 45 分钟损失 4.4 亿美元
- 问题：部署时忘了一台服务器、旧代码被激活、缺乏回滚机制
- 教训：自动化部署、全量部署验证、回滚方案必备

**Ariane 5 火箭（1996）**
- 发射 37 秒后爆炸
- 问题：复用了 Ariane 4 的软件，但新火箭参数不同导致整数溢出
- 教训：复用代码需要重新验证、边界测试极其重要

**波音 737 MAX（2018-2019）**
- 两次坠机，346 人遇难
- 问题：MCAS 软件依赖单一传感器、飞行员培训不足
- 教训：安全关键系统必须有冗余设计、充分的用户培训

### 3. 失败项目的共性原因

1. 需求不清晰或频繁变更
2. 缺乏有效的项目管理
3. 测试不充分
4. 沟通协调不畅
5. 过度自信、忽视风险
6. 技术债务积累

---

## 第二讲：大型开源项目实践——VS Code

### 1. VS Code 的成功数据

- 全球最受欢迎的 IDE，超过 70% 的开发者使用
- 开源项目，GitHub 上 150K+ Star
- 每月发布一个版本

### 2. 架构设计

- 基于 Electron（Chromium + Node.js）
- 核心 + 插件体系（Extension API）
- 微内核架构：核心小而稳定，功能通过插件扩展

### 3. 工程实践

- **代码仓库管理**：Monorepo，统一管理
- **自动化测试**：大量单元测试和集成测试
- **CI/CD**：每次 PR 自动运行测试
- **代码审查**：所有变更都需要 Review
- **Issue 管理**：GitHub Issues + 标签体系
- **版本发布**：Insiders（预览版）→ Stable（稳定版）

### 4. 社区治理

- Contribution Guidelines 明确
- Issue 模板规范化
- Monthly Iteration Plan 公开透明
- 核心团队 + 社区贡献者协作

---

## 第三讲：大厂软件工程

### 1. 微软的工程系统

- One Engineering System（1ES）
- 统一的工具链：Azure DevOps
- 内部开源（InnerSource）
- 成长型思维文化（Growth Mindset）

### 2. Google 的工程实践

- **Monorepo**：数十亿行代码在一个仓库
- **代码审查**：每次提交都有 Review
- **20% 时间**：用 20% 时间做创新项目
- **SRE**（Site Reliability Engineering）：用软件工程方法做运维
- **设计文档**：重要变更先写设计文档

### 3. 阿里巴巴的工程实践

- **双十一工程**：全链路压测、弹性伸缩
- **中台战略**：抽象通用能力（用户中心、支付中心）
- **AOneFlow**：统一的研发效能平台
- **代码规范**：《阿里巴巴 Java 开发手册》
- **故障演练**：主动注入故障，验证系统韧性

### 4. 大厂 vs 中小企业

| 维度 | 大厂 | 中小企业 |
|------|------|----------|
| 流程 | 完善但可能官僚 | 灵活但可能混乱 |
| 工具 | 自研或企业级 | 开源或轻量 |
| 人员 | 专业分工明确 | 一人多角色 |
| 技术 | 前沿、自建基础设施 | 使用云服务 |
| 启示 | 学其精髓 | 结合自身裁剪 |

---

## 本周核心公式

> **工程实践** = 自动化 + 规范化 + 透明化 + 持续改进

---

## 下周预告

🤖 **AI 赋能软件工程新范式（上）**：新技术与软件工程 → Vibe Coding → AI 编程工具生态

✏️ **课后思考**：从 VS Code 的成功中，你能为自己的团队项目借鉴哪些实践？
