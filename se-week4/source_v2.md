# 软件工程及体系结构 · 第 4 次

## 软件工程及体系结构

### **项目规划与管理：从单兵作战到团队协作**

> 电子信息工程专业硕士 | 3 学时
> 主讲人 | 何庭钦 | 271880026@qq.com

---

## 第一讲：技术转管理——从写代码到管项目

### 1. 技术人员转型管理的最大障碍

很多优秀的程序员在承担管理角色时会遇到困难。原因不是他们能力不够，恰恰相反——是因为他们**太关注技术细节**，而忽略了项目整体。

有一个简单的区分方式：
- **关注细节的**，是工程师
- **关注过程的**，是项目经理
- **关注结果的**，是老板

从技术转型管理，最核心的转变就是：**把注意力从局部的代码实现，切换到项目整体的进度、质量和团队协作上**。

### 2. 控制你想写代码的冲动

这是转型管理后的第一条铁律。

当你看到团队成员的代码写得不够好，你的第一反应可能是"让我来"。但如果你把大量时间花在亲自写代码上，就会忽略真正需要你关注的事情：项目进展、团队瓶颈、和客户的沟通协调。

> 转型管理后，你的成功不再取决于你写的代码有多好，而是取决于你的团队能不能把事情做成。团队的成功，才是你的成功。

### 3. 管理一个项目，本质就是管好两件事

项目管理看起来涉及很多知识，但核心可以归纳为两个维度：**管好人、管好事**。

**管人**方面：
- **管理客户的期望**：在质量、范围、时间和成本之间找到平衡。交付的结果如果达到或超过客户预期，项目就是成功的。
- **管理团队的协作**：不是靠项目经理一个人盯着所有人，而是建立合理的流程和工具，让团队成员遵循流程自动化协作。好的项目管理，不需要直接管人，而是管好流程。

**管事**方面：
- **选择合适的开发模式**：瀑布、迭代还是敏捷？根据项目特点选择。
- **制定项目计划**：有了计划才能有计划地推进，出了问题才能及时发现和调整。
- **跟踪执行和管理风险**：计划不会完全按预想走，需要持续跟踪，并且对潜在风险提前准备 B 计划。

![项目管理思维导图](../../assets/36e001d1d632d027f3ada5080c70dc5e.jpg)

---

## 第二讲：项目计划——代码未动，计划先行

"凡事预则立，不预则废。" 项目计划不是用来束缚团队的，而是像 GPS 导航一样，告诉你现在在哪里、终点在哪里、有没有偏离方向。

### 1. WBS：工作分解结构——把大象拆成小块

面对一个大项目，直接开始写代码是最危险的做法。正确的做法是用 **WBS（Work Breakdown Structure，工作分解结构）** 把项目层层拆解。

WBS 的原则很简单：从项目整体目标出发，逐层分解，直到每个"叶子节点"是一个人在两三天内能完成的具体任务。

![WBS 结构图](../../assets/68d47122bef8af0c5f18c1497766c63d.png)

> WBS 分解有几种常见方式：按功能模块分解、按开发阶段分解、或者两者结合。关键是分解到足够细，让每个任务都可以分配到具体的人，并且可以估算时间。

### 2. 估算时间——让做事的人自己报

项目经理绝对不要自己拍脑袋定时间。正确的做法是：**让负责执行的人自己估算**。

这不仅仅是因为他更了解技术细节，更重要的是：自己报的时间，自己会更有责任感去完成（这就是承诺驱动力）。

如果你觉得某个人报的时间太长怎么办？不要直接说"能不能快点"，而是要求他**把这个任务进一步拆分成更小的步骤**。一旦拆细了，哪里有水分自然就暴露了。

![估算方法对比](../../assets/a3548ca342418c4029f6ee64bde80210.png)

### 3. 排定依赖关系——找出关键路径

任务分解完成后，需要分析任务之间的依赖关系：
- **串行依赖**：必须先完成接口设计，才能开始前后端联调
- **并行执行**：前端和后端可以在接口约定明确后同时开发

在所有任务路径中，耗时最长的那条路径就是**关键路径**——它决定了项目最短的完成时间。任何关键路径上的任务延期，都会直接导致整个项目延期。

![关键路径图示](../../assets/62cb0d16d486b8a0b8084d23262e01ad.png)

### 4. 设定里程碑——不要等到最后才检查

里程碑是项目计划中预设的检查点。不要制定一个"半年后才看到结果"的计划，而是应该设定类似这样的里程碑：
- 第 3 周：核心接口跑通
- 第 6 周：内部演示版本
- 第 10 周：功能冻结，进入测试
- 第 14 周：上线发布

有了里程碑，项目是否偏离轨道就能被及时发现。

---

## 第三讲：流程与规范——红绿灯不是约束，而是提高效率

### 1. 为什么需要流程？

很多开发者讨厌流程——写 PRD 文档、代码审查（Code Review）、提 Bug 要附带复现步骤……觉得太烦了，"直接说不就行了？"

但事实是：**个体的"自由散漫"会带来极高的沟通成本和灾难性的 Bug 爆发**。

打个比方：流程就像马路上的红绿灯。如果只看单辆车，确实每次都要等红灯，似乎降低了效率。但如果没有红绿灯，会怎样？全局交通彻底瘫痪——每个人都更慢。

流程在软件项目中的作用也一样。看似增加了个别环节的成本，但在全局上大幅降低了沟通成本、减少了返工、避免了灾难性的线上事故。

### 2. 用工具来落实流程

一个重要的管理原则：**一切管理问题，首先想能不能用工具来自动化解决**。

不要靠口头提醒"注意代码规范"，而是在 CI 流水线中配置自动化代码检查（lint），不符合规范的代码直接提交失败。不要靠人肉检查"有没有写单元测试"，而是设置覆盖率门禁，低于阈值的代码不允许合并。

把流程固化在工具里，比任何口头约定都可靠。

### 3. 如何治理低效会议？

"白天开会，晚上加班写代码"是很多团队的痛点。

先算一笔账：10 个工程师开一场 2 小时的无准备会议，假设平均时薪 200 元，这一场会议的成本就是 4000 元。如果这场会议没有产出任何决策或行动项，这 4000 元就浪费了。

几个实用的会议管理原则：
- **没有主题和议程的会议，直接拒绝**
- **控制参会人数**（亚马逊的"两个披萨原则"：如果参会人数超过两个大披萨能喂饱的人数，就太多了）
- **不在全体会议上讨论技术细节**，把细节问题拆到小范围的专题会议中
- **每次会议必须有结论和行动项**，否则这场会议就失败了

---

## 第四讲：项目管理工具——用工具管项目，而不是用嘴

一部软件项目管理的发展史，某种程度上就是项目管理工具的进化史。

### 1. 从甘特图到 MS Project

在早期的大型项目（如阿波罗登月计划）中，几万个任务的调度是用贴满整面墙的纸来完成的。后来有了 MS Project，通过甘特图和任务树的方式实现了计算机化的项目管理。

![阿波罗项目计划](../../assets/d838250d8a9150eab8af735f16f9f5bc.png)

甘特图适合瀑布式的线性项目管理，但对于需要快速迭代的敏捷项目，它就不够灵活了。

### 2. 敏捷时代的看板和 Ticket 系统

现代敏捷开发使用的核心工具是 **Ticket 系统**（如 Jira、Trello）。所有需求、任务、Bug 都以 Ticket 的形式进入系统，每个 Ticket 有明确的负责人、优先级和状态。

配合可视化的**看板（Kanban）**，任务的流转一目了然：

**待办（Todo） → 开发中（In Progress） → 测试中（Testing） → 完成（Done）**

![看板视图](../../assets/ae93062b417fbe91e475841c9b781916.jpg)

项目经理不需要每天追着每个人问进度，只要看看板就能知道哪个环节出现了瓶颈。

### 3. 燃尽图：一眼看出项目是否会延期

**燃尽图（Burn Down Chart）** 是敏捷项目中最常用的进度可视化工具。横轴是时间，纵轴是剩余工作量。理想情况下，剩余工作量应该沿着一条斜线稳定下降。

如果实际折线在理想线的上方，说明项目进度落后于计划，需要采取行动。

![燃尽图](../../assets/c2311b8e2943ffe41c3775a80eb491ca.png)

---

## 第五讲：风险管理——凡事都应该有 B 计划

### 1. 不能盲目乐观

程序员有一个很常见的思维误区：**盲目乐观**。"这个功能估计一天就能做完"——结果因为不熟悉框架踩了坑，实际花了五天。

风险管理的核心公式很简单：

> **风险 = 发生的概率 × 造成的损失**

概率高且损失大的风险必须优先处理，而不是假装它不存在。

### 2. 常见的项目风险

大型软件项目中最常见的高风险因素包括：
- 第一版功能太多太全，没有做优先级排序
- 盲目引入不成熟的新技术
- 核心人员离职，关键知识没有传承
- 需求一直在变，没有变更控制机制
- 团队隐瞒延期真相，不及时上报

### 3. 风险管理四步法

![风险管理循环图](../../assets/11b6e81fd2baffcb0c025bb56c71e130.jpg)

**第一步：识别风险**——项目有哪些潜在的风险？是灾难性的还是可接受的？发生概率多大？

**第二步：制定应对策略**——针对识别出的风险，有四种基本策略：

![风险应对策略](../../assets/1f0834c11f675e1846779134746903d5.jpg)

- **回避（Avoid）**：从根本上消除风险。例如发现新框架坑太深，直接退回成熟方案。
- **转嫁（Transfer）**：把风险转移给第三方。例如用云服务商托管数据，把运维风险和赔偿责任转移给服务商。
- **缓解（Mitigate）**：降低风险发生的概率或影响。例如核心技术人员做交叉培训，防止一个人离职导致项目瘫痪。
- **接受（Accept）**：评估后认为风险可接受。例如引入新技术可能导致短期延期，但长期收益远大于成本，那就接受这个短期阵痛。

**第三步：监控风险**——设定预警阈值。例如当某个迭代的完成率低于 60% 时，自动触发风险预警。

**第四步：复盘总结**——风险事件发生后，分析原因，总结教训，更新风险清单，避免同类问题再次发生。

---

## 课后研讨任务

📋 **情景模拟：作为项目负责人如何应对突发状况？**

假设你是刚上任的项目组长，今天遇到以下三个突发状况，请运用所学的风险管理方法分析并给出你的应对方案：

1. **状况一**：团队的核心技术骨干近期频繁接听猎头电话，你担心他可能在一两周内离职，而他负责的模块正处于攻坚关键期。
   - 你会采取哪些预防和缓解措施？

2. **状况二**：项目已进入最后的集成测试阶段，需求方突然要求引入一套"刚发布内测版的 3D 可视化图表库"来展示数据。
   - 你将如何量化这个变更带来的风险？你会建议采取哪种策略？

3. **状况三**：团队每天在群里花大量时间争论代码规范问题——命名不统一、缩进风格不一致、有人直接修改公共模块没有通知。
   - 你认为这类问题的根本解决方案是什么？如何用工具和流程来替代人工争论？

**思考要点**：
- 先识别风险的性质和严重程度
- 然后从回避、转嫁、缓解、接受四种策略中选择最适合的
- 最后考虑如何设置监控机制来防止类似问题再次发生
